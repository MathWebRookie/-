{"ast":null,"code":"import { searchAPI, searchResultListAPI } from '@/api';\nexport default {\n  data() {\n    return {\n      value: '',\n      hotarr: [],\n      resultList: []\n    };\n  },\n  async created() {\n    const res = await searchAPI();\n    console.log(res);\n    this.hotarr = res.data.result.hots;\n  },\n  methods: {\n    async fn(val) {\n      this.value = val;\n      console.log(this.getListFn());\n      const res = await this.getListFn();\n    },\n    async getListFn() {\n      return await searchResultListAPI({\n        keywords: this.value,\n        limit: 20\n      }); // 把搜索结果return出去\n      // (难点):\n      // async修饰的函数 -> 默认返回一个全新Promise对象\n      // 这个Promise对象的结果就是async函数内return的值\n      // 拿到getListFn的返回值用await提取结果\n    }\n  }\n};","map":{"version":3,"mappings":"AAgBA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;IACA;EACA;EACA;IACA;IACAC;IACA;EACA;EACAC;IACA;MACA;MACAD;MACA;IAEA;IACA;MACA;QACAE;QACAC;MACA;MACA;MACA;MACA;MACA;IACA;EACA;AACA","names":["data","value","hotarr","resultList","console","methods","keywords","limit"],"sourceRoot":"src/views/Search","sources":["index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <van-search v-model=\"value\" placeholder=\"请输入搜索关键词\" shape=\"round\" />\r\n        <div class=\"search_wrap\">\r\n            <p class=\"hot_title\">热门搜索</p>\r\n            <div class=\"hot_name_wrap\">\r\n                <span class=\"hot_item\" v-for=\"(obj,index) \r\n                 in hotarr\" :key=\"index\" @click=\"fn(obj.first)\">\r\n                    {{obj.first}}</span>\r\n            </div>\r\n        </div>\r\n       \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { searchAPI, searchResultListAPI } from '@/api'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            value: '',\r\n            hotarr: [],\r\n            resultList: []\r\n        }\r\n    },\r\n    async created() {\r\n        const res = await searchAPI()\r\n        console.log(res);\r\n        this.hotarr = res.data.result.hots\r\n    },\r\n    methods: {\r\n        async fn(val) {\r\n            this.value = val;\r\n            console.log(this.getListFn());\r\n            const res = await this.getListFn()\r\n           \r\n        },\r\n        async getListFn() {\r\n            return await searchResultListAPI({\r\n                keywords: this.value,\r\n                limit: 20,\r\n            }); // 把搜索结果return出去\r\n            // (难点):\r\n            // async修饰的函数 -> 默认返回一个全新Promise对象\r\n            // 这个Promise对象的结果就是async函数内return的值\r\n            // 拿到getListFn的返回值用await提取结果\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.search_wrap {\r\n    padding: 0.266667rem;\r\n}\r\n\r\n/*热门搜索文字标题样式 */\r\n.hot_title {\r\n    font-size: 0.32rem;\r\n    color: #666;\r\n}\r\n\r\n/* 热搜词_容器 */\r\n.hot_name_wrap {\r\n    margin: 0.266667rem 0;\r\n}\r\n\r\n/* 热搜词_样式 */\r\n.hot_item {\r\n    display: inline-block;\r\n    height: 0.853333rem;\r\n    margin-right: 0.213333rem;\r\n    margin-bottom: 0.213333rem;\r\n    padding: 0 0.373333rem;\r\n    font-size: 0.373333rem;\r\n    line-height: 0.853333rem;\r\n    color: #333;\r\n    border-color: #d3d4da;\r\n    border-radius: 0.853333rem;\r\n    border: 1px solid #d3d4da;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}